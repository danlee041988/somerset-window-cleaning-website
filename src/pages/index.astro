---
import Layout from '~/layouts/PageLayout.astro';
import { Picture } from 'astro:assets';
import { Icon } from 'astro-icon/components';
import { siteConfig, policyCopy } from '~/config/site';

// Import hero image
import mainHeroImage from '~/assets/images/new-hero-image.jpg';

import Hero from '~/components/widgets/Hero.astro';
import Note from '~/components/widgets/Note.astro';
import Features from '~/components/widgets/Features.astro';
import Features2 from '~/components/widgets/Features2.astro';
import ServicesBoxed from '~/components/widgets/ServicesBoxed.astro';
import ServicesFlashcards from '~/components/widgets/ServicesFlashcards.astro';
// Removed template filler widgets for a clean marketing page
import FAQs from '~/components/widgets/FAQs.astro';
import Stats from '~/components/widgets/Stats.astro';
import CallToAction from '~/components/widgets/CallToAction.astro';
import Testimonials from '~/components/widgets/Testimonials.astro';
import LiveReviews from '~/components/widgets/LiveReviews.astro';
import Process from '~/components/widgets/Process.astro';
import TrustBar from '~/components/widgets/TrustBar.astro';
import ReviewsSchema from '~/components/seo/ReviewsSchema.astro';
import HomepageSchema from '~/components/seo/HomepageSchema.astro';
import PostcodeChecker from '~/components/widgets/PostcodeChecker.astro';

const metadata = {
  title: 'Window Cleaning Somerset | Instant Online Quotes & Booking | Somerset Window Cleaning',
  description: 'Get instant quotes and book window cleaning online in Somerset. Reliable, fully insured service with 48-hour guarantee. Serving Bath, Wells, Street, Glastonbury & more.',
  ignoreTitleTemplate: true,
};
---

<Layout metadata={metadata} structuredDataType="homepage">
  <!-- Hero Widget ******************* -->

  <Hero>
    <Fragment slot="bg">
      <Picture
        src={mainHeroImage}
        alt="Professional window cleaning service across Somerset - aerial view of technician cleaning modern home windows with water-fed pole system"
        width={1920}
        height={1080}
        widths={[640, 768, 1024, 1280, 1600, 1920]}
        sizes="100vw"
        formats={['webp', 'jpg']}
        loading="eager"
        fetchpriority="high"
        decoding="async"
        quality={75}
        style="width:100%; height:100%; object-fit:cover; opacity:0.4; position:absolute; inset:0;"
      />
      <noscript>
        <img 
          src={mainHeroImage.src} 
          alt="Professional window cleaning service across Somerset" 
          style="width:100%; height:100%; object-fit:cover; opacity:0.55; position:absolute; inset:0;"
          loading="eager"
        />
      </noscript>
      <div class="absolute inset-0 bg-gradient-to-b from-black/40 to-black/60"></div>
    </Fragment>
    <Fragment slot="title">
      <span style="color: #FF0000 !important;">Professional</span> Window Cleaning <span style="color: #FF0000 !important;">Somerset</span>
    </Fragment>
    <Fragment slot="subtitle">
      <span class="text-white">Reliable, fully insured exterior cleaning across Somerset. 4,000+ happy customers since 2019.</span>
    </Fragment>
    <Fragment slot="actions">
      <div class="grid grid-cols-1 md:grid-cols-3 gap-4 md:gap-6 max-w-4xl mx-auto mt-8">
        <!-- Request Quote Card -->
        <a href="/book-now" class="group relative bg-gradient-to-br from-gray-800/90 to-gray-900/90 backdrop-blur-sm rounded-2xl p-6 shadow-xl transform transition-all duration-300 hover:scale-105 hover:shadow-2xl overflow-hidden border border-gray-700/50">
          <!-- Hover gradient overlay -->
          <div class="absolute inset-0 bg-gradient-to-br from-brand-red/20 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300"></div>
          
          <div class="relative z-10 text-center">
            <div class="bg-gradient-to-br from-brand-red to-red-700 rounded-xl p-3 mb-4 w-16 h-16 flex items-center justify-center mx-auto shadow-lg group-hover:shadow-brand-red/50 transition-shadow duration-300">
              <svg class="w-8 h-8 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"/>
              </svg>
            </div>
            <h4 class="text-white font-bold text-lg mb-1">Get a Quote</h4>
            <p class="text-gray-400 text-sm">Free instant quotes</p>
          </div>
          
          <!-- Decorative corner accent -->
          <div class="absolute top-0 right-0 w-20 h-20 bg-gradient-to-bl from-brand-red/10 to-transparent"></div>
        </a>
        
        <!-- Call Card -->
        <a href="tel:01458860339" class="group relative bg-gradient-to-br from-gray-800/90 to-gray-900/90 backdrop-blur-sm rounded-2xl p-6 shadow-xl transform transition-all duration-300 hover:scale-105 hover:shadow-2xl overflow-hidden border border-gray-700/50">
          <!-- Hover gradient overlay -->
          <div class="absolute inset-0 bg-gradient-to-br from-green-600/20 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300"></div>
          
          <div class="relative z-10 text-center">
            <div class="bg-gradient-to-br from-green-600 to-green-700 rounded-xl p-3 mb-4 w-16 h-16 flex items-center justify-center mx-auto shadow-lg group-hover:shadow-green-600/50 transition-shadow duration-300">
              <svg class="w-8 h-8 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"/>
              </svg>
            </div>
            <h4 class="text-white font-bold text-lg mb-1">Call Us</h4>
            <p class="text-green-400 text-sm font-semibold">01458 860339</p>
          </div>
          
          <!-- Decorative corner accent -->
          <div class="absolute top-0 right-0 w-20 h-20 bg-gradient-to-bl from-green-600/10 to-transparent"></div>
        </a>
        
        <!-- WhatsApp Card -->
        <a href="https://wa.me/447415526331?text=Hi%20Somerset%20Window%20Cleaning%2C%20please%20can%20I%20get%20a%20quote%20for%20window%20cleaning%20at%20%5Byour%20address%5D" target="_blank" rel="noopener noreferrer" class="group relative bg-gradient-to-br from-gray-800/90 to-gray-900/90 backdrop-blur-sm rounded-2xl p-6 shadow-xl transform transition-all duration-300 hover:scale-105 hover:shadow-2xl overflow-hidden border border-gray-700/50">
          <!-- Hover gradient overlay -->
          <div class="absolute inset-0 bg-gradient-to-br from-green-500/20 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300"></div>
          
          <div class="relative z-10 text-center">
            <div class="bg-gradient-to-br from-green-500 to-green-600 rounded-xl p-3 mb-4 w-16 h-16 flex items-center justify-center mx-auto shadow-lg group-hover:shadow-green-500/50 transition-shadow duration-300">
              <svg class="w-8 h-8 text-white" fill="currentColor" viewBox="0 0 24 24">
                <path d="M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51a12.8 12.8 0 00-.57-.01c-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893a11.821 11.821 0 00-3.48-8.413z"/>
              </svg>
            </div>
            <h4 class="text-white font-bold text-lg mb-1">WhatsApp</h4>
            <p class="text-green-400 text-sm">Quick response</p>
          </div>
          
          <!-- Decorative corner accent -->
          <div class="absolute top-0 right-0 w-20 h-20 bg-gradient-to-bl from-green-500/10 to-transparent"></div>
        </a>
      </div>
    </Fragment>
  </Hero>

  <!-- Stats Bar ****************** -->
  <Stats 
    isDark={true}
    stats={[
      {
        amount: 'Fully',
        title: 'INSURED',
        description: '£5M Public Liability'
      },
      {
        amount: 'Online',
        title: 'PAYMENTS',
        description: 'Card & Direct Debit'
      },
      {
        amount: '200+',
        title: 'GOOGLE REVIEWS',
        description: '4.9★ Rating'
      },
      {
        amount: '48hr',
        title: 'GUARANTEE',
        description: 'Spot-free Promise'
      },
    ]}
  />

  <!-- Services Widget *************** -->
  <ServicesFlashcards
    id="services"
    title="Complete Exterior Cleaning Services"
    subtitle="Professional, reliable, fully insured exterior cleaning across Somerset."
    columns={3}
    items={[
      {
        title: 'Window Cleaning',
        description: 'Crystal-clear windows make your whole property shine. Our pure water system leaves no streaks or spots, just perfectly clean glass every time. Regular service means you never have to think about dirty windows again.',
        details: [
          'Pure water reach & wash system',
          'All external windows cleaned',
          'Window frames & sills included',
          'Streak-free finish guaranteed',
          '4, 8, or 12-week schedules',
          'Text reminders before visits'
        ],
        callToAction: { text: 'Learn More', href: '/services/window-cleaning' },
      },
      {
        title: 'Gutter Clearing',
        description: 'Blocked gutters cause expensive damage - we prevent that. Our powerful vacuum system reaches up to 4 storeys from the ground, removing all debris safely. You\'ll see before & after photos for peace of mind.',
        details: [
          'Professional vacuum system',
          'Reaches up to 4 storeys',
          'Before & after photos',
          'All debris removed',
          'No ladders on your property'
        ],
        callToAction: { text: 'Learn More', href: '/services/gutter-cleaning' },
      },
      {
        title: 'Fascia & Soffit Cleaning',
        description: 'Those green-stained soffits make your home look tired. We restore UPVC to brilliant white, transforming your property\'s appearance instantly. It\'s like giving your home a facelift for a fraction of the cost.',
        details: [
          'Deep clean UPVC surfaces',
          'Removes algae & dirt buildup',
          'Restore original color',
          'Includes gutter exteriors',
          'Eco-friendly products',
          'Instant curb appeal boost'
        ],
        callToAction: { text: 'Learn More', href: '/services/fascia-soffit-cleaning' },
      },
      {
        title: 'Conservatory Roof Cleaning',
        description: 'Transform your dark, algae-covered conservatory back to its former glory. Our specialist cleaning removes years of green buildup, letting light flood back into your home. Most customers are amazed at the difference.',
        details: [
          'Specialist roof cleaning equipment',
          'Safe for polycarbonate & glass',
          'Removes stubborn green algae',
          'Restores up to 60% more light',
          'Framework & gutters included',
          'Annual service keeps it pristine'
        ],
        callToAction: { text: 'Learn More', href: '/services/conservatory-cleaning' },
      },
      {
        title: 'Solar Panel Cleaning',
        description: 'Dirty panels lose 15-25% efficiency - that\'s money down the drain! Our specialist cleaning maximizes your energy production while protecting your warranty. Most customers see immediate improvements on their monitoring apps.',
        details: [
          'Manufacturer approved methods',
          'Deionized water only',
          'Soft brush system',
          'Maintains warranties',
          'Improves efficiency 15-25%',
          'Annual or bi-annual service'
        ],
        callToAction: { text: 'Learn More', href: '/services/solar-panel-cleaning' },
      },
      {
        title: 'Commercial Cleaning',
        description: 'First impressions matter for business. We keep your premises looking professional with flexible scheduling that works around you. Fully compliant service with all documentation provided for your records.',
        details: [
          'Flexible scheduling',
          'Health & Safety compliant',
          '£5M public liability',
          'Risk assessments provided',
          'All business types',
          'Monthly invoicing available'
        ],
        callToAction: { text: 'Get Quote', href: '/services/commercial-window-cleaning' },
      },
    ]}
  />

  <!-- Postcode Checker -->
  <PostcodeChecker 
    heading="Ready to get started?"
    subheading="Check if we cover your area and book your window cleaning service today"
    buttonText="Check My Area"
  />

  <!-- Reviews ******************************* -->
  <LiveReviews 
    title="What our customers say"
    subtitle="Real reviews from verified Google customers"
    maxReviews={6}
    autoRotate={true}
  />

  <!-- Dark Brand Band Section -->
  <section class="relative bg-black text-white py-16 md:py-20 overflow-hidden">
    <div class="absolute inset-0 bg-black"></div>
    <div class="relative max-w-7xl mx-auto px-4 sm:px-6 text-center">
      <div class="max-w-4xl mx-auto">
        <h2 class="text-3xl md:text-4xl font-bold mb-6 text-white">
          The Somerset Window Cleaning Difference
        </h2>
        <p class="text-xl text-gray-300 mb-8 leading-relaxed content-width mx-auto">
          Since 2019, we've built our reputation on reliability, quality, and exceptional customer service. 
          Our professional team uses the latest equipment and techniques to deliver outstanding results every time.
        </p>
        <div class="grid grid-cols-2 md:grid-cols-4 gap-8 text-center">
          <div>
            <div class="text-3xl font-bold text-brand-red mb-2">4000+</div>
            <div class="text-gray-300">Happy Customers</div>
          </div>
          <div>
            <div class="text-3xl font-bold text-brand-red mb-2">200+</div>
            <div class="text-gray-300">5★ Reviews</div>
          </div>
          <div>
            <div class="text-3xl font-bold text-brand-red mb-2">7 Years</div>
            <div class="text-gray-300">Experience</div>
          </div>
          <div>
            <div class="text-3xl font-bold text-brand-red mb-2">£5M</div>
            <div class="text-gray-300">Insurance</div>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- Reviews structured data for homepage -->
  <ReviewsSchema />
  
  <!-- Homepage structured data for SEO -->
  <HomepageSchema />
</Layout>
