---
import Layout from '~/layouts/PageLayout.astro';
import Image from '~/components/common/Image.astro';
import { Icon } from 'astro-icon/components';
import { siteConfig, policyCopy } from '~/config/site';

import Hero from '~/components/widgets/Hero.astro';
import Note from '~/components/widgets/Note.astro';
import Features from '~/components/widgets/Features.astro';
import Features2 from '~/components/widgets/Features2.astro';
// Removed template filler widgets for a clean marketing page
import FAQs from '~/components/widgets/FAQs.astro';
import Stats from '~/components/widgets/Stats.astro';
import CallToAction from '~/components/widgets/CallToAction.astro';
import Testimonials from '~/components/widgets/Testimonials.astro';
import LiveReviews from '~/components/widgets/LiveReviews.astro';
import Process from '~/components/widgets/Process.astro';
import TrustBar from '~/components/widgets/TrustBar.astro';

const metadata = {
  title: 'Window Cleaning Somerset | Instant Online Quotes & Booking | Somerset Window Cleaning',
  description: 'Get instant quotes and book window cleaning online in Somerset. Reliable, fully insured service with 48-hour guarantee. Serving Bath, Wells, Street, Glastonbury & more.',
  ignoreTitleTemplate: true,
};
---

<Layout metadata={metadata} structuredDataType="homepage">
  <!-- Hero Widget ******************* -->

  <Hero
    actions={[
      { variant: 'primary', text: 'Get FREE Quote', href: '/booking-2step', icon: 'tabler:calculator', class: 'text-white' },
    ]}
  >
    <Fragment slot="bg">
      <Image src="~/assets/images/DJI_0007.JPG" alt="Professional window cleaning service across Somerset - clean, reliable, fully insured exterior cleaning" width={1600} height={900} layout="cover" style="width:100%; height:100%; object-fit:cover; opacity:0.35;" loading="eager" decoding="sync" fetchpriority="high" />
      <div class="absolute inset-0 bg-black/40"></div>
    </Fragment>
    <Fragment slot="title">
      Professional Window Cleaning <span class="text-primary">Somerset</span>
    </Fragment>
    <Fragment slot="subtitle">
      Reliable, fully insured exterior cleaning across Somerset. 4,000+ happy customers since 2019.
    </Fragment>
  </Hero>

  <!-- Secondary quick-contact row under hero -->
  <div class="max-w-7xl mx-auto px-4 sm:px-6 mt-4">
    <div class="flex flex-col sm:flex-row items-center justify-center gap-3">
      <!-- Call (red outline) -->
      <a href="tel:01458860339" class="inline-flex items-center gap-2 border-2 border-primary text-white px-4 py-2 rounded-lg hover:bg-primary/15 no-underline" style="color:#fff !important">
        <Icon name="tabler:phone" class="w-5 h-5 text-primary" />
        <span>Call 01458 860339</span>
      </a>
      <!-- WhatsApp (green solid) -->
      <a href="https://wa.me/447415526331?text=Hi%20Somerset%20Window%20Cleaning%2C%20please%20can%20I%20get%20a%20quote%20for%20window%20cleaning%20at%20%5Byour%20address%5D" target="_blank" rel="noopener noreferrer" class="inline-flex items-center gap-2 bg-green-600 hover:bg-green-500 text-white px-4 py-2 rounded-lg no-underline">
        <Icon name="tabler:brand-whatsapp" class="w-5 h-5" />
        <span>WhatsApp</span>
      </a>
      <!-- Contact form (white outline) -->
      <a href="/contact#form" class="inline-flex items-center gap-2 border-2 border-white text-white px-4 py-2 rounded-lg hover:bg-white/10 no-underline" style="color:#fff !important">
        <Icon name="tabler:edit" class="w-5 h-5" />
        <span>Contact Form</span>
      </a>
    </div>
  </div>

  <!-- Trust Bar ****************** -->
  <TrustBar />

  <!-- Services Widget *************** -->
  <Features
    id="services"
    title="Complete Exterior Cleaning Services"
    subtitle="Professional, reliable, fully insured exterior cleaning across Somerset."
    items={[
      {
        title: 'Window Cleaning',
        description: 'Pure water system for streak-free windows. Frames and sills included.',
        icon: 'tabler:sparkles',
        callToAction: { text: 'Learn More', href: '/services/window-cleaning' },
      },
      {
        title: 'Gutter Clearing',
        description: 'High-reach vacuum system removes leaves and debris safely.',
        icon: 'tabler:brand-abstract',
        callToAction: { text: 'Learn More', href: '/services/gutter-cleaning' },
      },
      {
        title: 'Fascia & Soffit Cleaning',
        description: 'Restore UPVC fascias and soffits to their original appearance.',
        icon: 'tabler:home',
        callToAction: { text: 'Learn More', href: '/services/fascia-soffit-cleaning' },
      },
      {
        title: 'Conservatory Cleaning',
        description: 'Roof panels and frames carefully cleaned to restore clarity.',
        icon: 'tabler:building',
        callToAction: { text: 'Learn More', href: '/services/conservatory-cleaning' },
      },
      {
        title: 'Solar Panel Cleaning',
        description: 'Specialist cleaning to maintain efficiency and warranties.',
        icon: 'tabler:sun',
        callToAction: { text: 'Learn More', href: '/services/solar-panel-cleaning' },
      },
      {
        title: 'Commercial Cleaning',
        description: 'Professional service for offices, shops and business premises.',
        icon: 'tabler:building-store',
        callToAction: { text: 'Get Quote', href: '/services/commercial-window-cleaning' },
      },
    ]}
  />

  <!-- Reviews ******************************* -->
  <LiveReviews 
    title="What our customers say"
    subtitle="Real reviews from verified Google customers"
    maxReviews={6}
    autoRotate={true}
  />

  <!-- Removed mid-page CTA (duplicate of contact options) -->
</Layout>
