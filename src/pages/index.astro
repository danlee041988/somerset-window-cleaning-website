---
import Layout from '~/layouts/PageLayout.astro';
import { Picture } from 'astro:assets';
import { Icon } from 'astro-icon/components';
import { siteConfig, policyCopy } from '~/config/site';

// Import hero image
import mainHeroImage from '~/assets/images/new-hero-image.jpg';

import Hero from '~/components/widgets/Hero.astro';
import Note from '~/components/widgets/Note.astro';
import Features from '~/components/widgets/Features.astro';
import Features2 from '~/components/widgets/Features2.astro';
import ServicesBoxed from '~/components/widgets/ServicesBoxed.astro';
import ServicesFlashcards from '~/components/widgets/ServicesFlashcards.astro';
// Removed template filler widgets for a clean marketing page
import FAQs from '~/components/widgets/FAQs.astro';
import Stats from '~/components/widgets/Stats.astro';
import CallToAction from '~/components/widgets/CallToAction.astro';
import Testimonials from '~/components/widgets/Testimonials.astro';
import LiveReviews from '~/components/widgets/LiveReviews.astro';
import Process from '~/components/widgets/Process.astro';
import TrustBar from '~/components/widgets/TrustBar.astro';
import ReviewsSchema from '~/components/seo/ReviewsSchema.astro';
import PostcodeChecker from '~/components/widgets/PostcodeChecker.astro';

const metadata = {
  title: 'Window Cleaning Somerset | Instant Online Quotes & Booking | Somerset Window Cleaning',
  description: 'Get instant quotes and book window cleaning online in Somerset. Reliable, fully insured service with 48-hour guarantee. Serving Bath, Wells, Street, Glastonbury & more.',
  ignoreTitleTemplate: true,
};
---

<Layout metadata={metadata} structuredDataType="homepage">
  <!-- Hero Widget ******************* -->

  <Hero
    actions={[
      { variant: 'red', text: 'Request a Free Quote', href: '/book-now', icon: 'tabler:file-text', class: 'text-lg px-8 py-4 animate-pulse shadow-2xl transform hover:scale-110 transition-all duration-300' },
      { variant: 'red', text: 'Call 01458 860339', href: 'tel:01458860339', icon: 'tabler:phone', class: 'text-lg px-6 py-4 transition-all duration-300' },
      { variant: 'whatsapp', text: 'WhatsApp', href: 'https://wa.me/447415526331?text=Hi%20Somerset%20Window%20Cleaning%2C%20please%20can%20I%20get%20a%20quote%20for%20window%20cleaning%20at%20%5Byour%20address%5D', icon: 'tabler:brand-whatsapp', class: 'text-white text-lg px-6 py-4', target: '_blank' },
    ]}
  >
    <Fragment slot="bg">
      <Picture
        src={mainHeroImage}
        alt="Professional window cleaning service across Somerset - aerial view of technician cleaning modern home windows with water-fed pole system"
        width={1920}
        height={1080}
        widths={[640, 768, 1024, 1280, 1600, 1920]}
        sizes="100vw"
        formats={['webp', 'jpg']}
        loading="eager"
        fetchpriority="high"
        decoding="async"
        quality={75}
        style="width:100%; height:100%; object-fit:cover; opacity:0.4; position:absolute; inset:0;"
      />
      <noscript>
        <img 
          src={mainHeroImage.src} 
          alt="Professional window cleaning service across Somerset" 
          style="width:100%; height:100%; object-fit:cover; opacity:0.55; position:absolute; inset:0;"
          loading="eager"
        />
      </noscript>
      <div class="absolute inset-0 bg-gradient-to-b from-black/50 to-black/70"></div>
    </Fragment>
    <Fragment slot="title">
      <span style="color: #FF0000 !important;">Professional</span> Window Cleaning <span style="color: #FF0000 !important;">Somerset</span>
    </Fragment>
    <Fragment slot="subtitle">
      <span class="text-white">Reliable, fully insured exterior cleaning across Somerset. 4,000+ happy customers since 2019.</span>
    </Fragment>
  </Hero>

  <!-- Stats Bar ****************** -->
  <Stats 
    isDark={true}
    stats={[
      {
        amount: 'Fully',
        title: 'INSURED',
        description: '£5M Public Liability'
      },
      {
        amount: 'Online',
        title: 'PAYMENTS',
        description: 'Card & Direct Debit'
      },
      {
        amount: '190+',
        title: 'GOOGLE REVIEWS',
        description: '4.9★ Rating'
      },
      {
        amount: '48hr',
        title: 'GUARANTEE',
        description: 'Spot-free Promise'
      },
    ]}
  />

  <!-- Services Widget *************** -->
  <ServicesFlashcards
    id="services"
    title="Complete Exterior Cleaning Services"
    subtitle="Professional, reliable, fully insured exterior cleaning across Somerset."
    columns={3}
    items={[
      {
        title: 'Conservatory Roof Cleaning',
        description: 'Transform your dark, algae-covered conservatory back to its former glory. Our specialist cleaning removes years of green buildup, letting light flood back into your home. Most customers are amazed at the difference.',
        details: [
          'Specialist roof cleaning equipment',
          'Safe for polycarbonate & glass',
          'Removes stubborn green algae',
          'Restores up to 60% more light',
          'Framework & gutters included',
          'Annual service keeps it pristine'
        ],
        callToAction: { text: 'Learn More', href: '/services/conservatory-cleaning' },
      },
      {
        title: 'Window Cleaning',
        description: 'Crystal-clear windows make your whole property shine. Our pure water system leaves no streaks or spots, just perfectly clean glass every time. Regular service means you never have to think about dirty windows again.',
        details: [
          'Pure water reach & wash system',
          'All external windows cleaned',
          'Window frames & sills included',
          'Streak-free finish guaranteed',
          '4, 8, or 12-week schedules',
          'Text reminders before visits'
        ],
        callToAction: { text: 'Learn More', href: '/services/window-cleaning' },
      },
      {
        title: 'Gutter Clearing',
        description: 'Blocked gutters cause expensive damage - we prevent that. Our powerful vacuum system reaches up to 4 storeys from the ground, removing all debris safely. You\'ll see before & after photos for peace of mind.',
        details: [
          'Professional vacuum system',
          'Reaches up to 4 storeys',
          'Before & after photos',
          'All debris removed',
          'Downpipes checked',
          'No ladders on your property'
        ],
        callToAction: { text: 'Learn More', href: '/services/gutter-cleaning' },
      },
      {
        title: 'Fascia & Soffit Cleaning',
        description: 'Those green-stained soffits make your home look tired. We restore UPVC to brilliant white, transforming your property\'s appearance instantly. It\'s like giving your home a facelift for a fraction of the cost.',
        details: [
          'Deep clean UPVC surfaces',
          'Removes algae & dirt buildup',
          'Restore original color',
          'Includes gutter exteriors',
          'Eco-friendly products',
          'Instant curb appeal boost'
        ],
        callToAction: { text: 'Learn More', href: '/services/fascia-soffit-cleaning' },
      },
      {
        title: 'Solar Panel Cleaning',
        description: 'Dirty panels lose 15-25% efficiency - that\'s money down the drain! Our specialist cleaning maximizes your energy production while protecting your warranty. Most customers see immediate improvements on their monitoring apps.',
        details: [
          'Manufacturer approved methods',
          'Deionized water only',
          'Soft brush system',
          'Maintains warranties',
          'Improves efficiency 15-25%',
          'Annual or bi-annual service'
        ],
        callToAction: { text: 'Learn More', href: '/services/solar-panel-cleaning' },
      },
      {
        title: 'Commercial Cleaning',
        description: 'First impressions matter for business. We keep your premises looking professional with flexible scheduling that works around you. Fully compliant service with all documentation provided for your records.',
        details: [
          'Flexible scheduling',
          'Health & Safety compliant',
          '£5M public liability',
          'Risk assessments provided',
          'All business types',
          'Monthly invoicing available'
        ],
        callToAction: { text: 'Get Quote', href: '/services/commercial-window-cleaning' },
      },
    ]}
  />

  <!-- Postcode Checker -->
  <PostcodeChecker 
    heading="Ready to get started?"
    subheading="Check if we cover your area and book your window cleaning service today"
    buttonText="Check My Area"
  />

  <!-- Reviews ******************************* -->
  <LiveReviews 
    title="What our customers say"
    subtitle="Real reviews from verified Google customers"
    maxReviews={6}
    autoRotate={true}
  />

  <!-- Dark Brand Band Section -->
  <section class="relative bg-neutral-900 text-white py-16 md:py-20 overflow-hidden">
    <div class="absolute inset-0 bg-gradient-to-r from-neutral-900 via-black to-neutral-900"></div>
    <div class="relative max-w-7xl mx-auto px-4 sm:px-6 text-center">
      <div class="max-w-4xl mx-auto">
        <h2 class="text-3xl md:text-4xl font-bold mb-6 text-white">
          The Somerset Window Cleaning Difference
        </h2>
        <p class="text-xl text-gray-300 mb-8 leading-relaxed content-width mx-auto">
          Since 2019, we've built our reputation on reliability, quality, and exceptional customer service. 
          Our professional team uses the latest equipment and techniques to deliver outstanding results every time.
        </p>
        <div class="grid grid-cols-2 md:grid-cols-4 gap-8 text-center">
          <div>
            <div class="text-3xl font-bold text-blue-primary mb-2">4000+</div>
            <div class="text-gray-300">Happy Customers</div>
          </div>
          <div>
            <div class="text-3xl font-bold text-blue-primary mb-2">190+</div>
            <div class="text-gray-300">5★ Reviews</div>
          </div>
          <div>
            <div class="text-3xl font-bold text-blue-primary mb-2">5 Years</div>
            <div class="text-gray-300">Experience</div>
          </div>
          <div>
            <div class="text-3xl font-bold text-blue-primary mb-2">£5M</div>
            <div class="text-gray-300">Insurance</div>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- Reviews structured data for homepage -->
  <ReviewsSchema />
</Layout>
